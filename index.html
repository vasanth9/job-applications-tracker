<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Applications Tracker</title>
    <link rel="stylesheet" href="src/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
</head>
<body>
    <div class="email-layout">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>Filters</h2>
            </div>
            <ul class="sidebar-menu">
                <li class="active" data-status="all">All</li>
                <li data-status="Applied">Applied</li>
                <li data-status="Interviewing">Interviewing</li>
                <li data-status="Offer">Offer</li>
                <li data-status="Rejected">Rejected</li>
                <li data-status="analytics">Analytics</li>
            </ul>
        </aside>

        <main class="application-list-pane">
            <header class="list-header">
                <button class="filter-button" id="filter-button">☰</button>
                <h2 id="main-view-title">Applications</h2>
            </header>
            <div id="application-list-items">
                <!-- Application list items will be generated by script.js -->
            </div>
            <div id="analytics-view" class="hidden">
                <div id="analytics-today"></div>
                <div id="analytics-week"></div>
                <div id="analytics-month"></div>
                <div class="chart-container">
                    <h3>Application Trends</h3>
                    <div class="chart-filters">
                        <input type="date" id="start-date">
                        <input type="date" id="end-date">
                        <div id="status-filters">
                            <label><input type="checkbox" value="Applied" checked> Applied</label>
                            <label><input type="checkbox" value="Interviewing" checked> Interviewing</label>
                            <label><input type="checkbox" value="Offer" checked> Offer</label>
                            <label><input type="checkbox" value="Rejected" checked> Rejected</label>
                        </div>
                    </div>
                    <canvas id="trends-chart"></canvas>
                </div>
            </div>
        </main>

        <section class="detail-pane">
            <header class="detail-header-mobile">
                <button class="back-button" id="back-button">←</button>
            </header>
            <div id="detail-pane-content">
                <div class="empty-view">
                    <p>Select an application to see the details</p>
                </div>
                <!-- Application details will be injected here -->
            </div>
        </section>
    </div>

    <div id="iframe-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <header class="modal-header">
                <h2 id="iframe-modal-title"></h2>
                <a id="iframe-modal-new-tab-link" href="#" target="_blank" rel="noopener noreferrer" class="button">New Tab</a>
                <button id="close-iframe-modal-button" class="close-button">×</button>
            </header>
            <div class="modal-body">
                <iframe id="job-link-iframe" src="" frameborder="0"></iframe>
            </div>
        </div>
    </div>

    <script src="src/script.js"></script>
</body>
</html>
